# Optimization task

### Genreal idea
Когда нам хочется спрашивать запрос 3 типа? Пусть мы уже знаем какой-то набор клеток, кажется, что в общем случае будет оптимально спрашивать запрос 3 типа в клетках, которые являются крайними(те те, у которых неизвестен какой-то сосед). 
  
Пусть мы находимся в какой-то клетке:  
- Если эта клетка крайняя, то сделаем запрос 3 типа
- Иначе найдем ближайшую точку, которая еще не посещена, но мы знаем, что она точно есть в поле. Сделаем это с помощью алгоритма дейкстры.
- После запроса 3 типа мы видим все клетки ```_``` и можем быть уверены, что первый ```#``` слева/сверху/снизу/справа является настоящим ```#```. Алгоритм можно улучшить, находя геметрически облать, которую мы не видим, те все границы из ```#```.
- Завершим алгоритм, когда множество посещенных клеток равно количество известных клеток

### Correctness
Докажем, что это найдет ответ в худшем случае за O(N^2 * M^2 * log(N*M)), где NxM - размер поля.
Если множество посещенных клеток равно количеству известных клеток, тогда можно гарантировать, что мы посетили все клетки, поскольку граница больше не расширяется и новых клеток появиться не может.

За один запуск дейкстры мы находим новую непосещенную клетку, дейкстра будет работать за ElogV. E ~ N * M, V ~ N * M. ```~``` - поскольку вершина разбивается на 4 подвершины, где подвершина отвечает за направление.

## Technical
1) Поддерживаем клетки поля, которые мы знаем в переменной ```grid``` и посещенные клетки в переменной ```used```. Текущее время в ```TIMER```. ```dirs``` - множество направлений. ```visited_cells``` - количество посещенных вершин, ```known_cells``` - количество свободных вершин, которое нам известно.
2) ```dfs``` - обход лабиринта.
3) ```find_nearest``` - нахождение ближайшей точки.
4) ```restore_optimal_path``` - восстановиление оптимального пути
5) ```ROTATE, MOVE_FORWARD, FIRE``` - наши 3 оперции
6) ```terminate_dfs``` - критерий остановки
7) ```light_a_fire_check``` - проверка является ли точка граничной
8) ```fire``` - заполнение известных клеток

## Run
```
g++ optimization.cpp
./a.out
```
